---
alwaysApply: true
description: "AI-ì‚¬ìš©ì í˜‘ì—…ì„ ìœ„í•œ í•µì‹¬ íŒ¨í„´ê³¼ ê¸°ë²•. Zenject DI ê¸°ë³¸ íŒ¨í„´, DOTween Pro ì‚¬ìš©ë²•, ë¬¸ì„œí™” í‘œì¤€ì„ í¬í•¨í•©ë‹ˆë‹¤."
---
# RougeShool í•µì‹¬ íŒ¨í„´ ê°€ì´ë“œ (Core Patterns Guide)

> ëª©ì : AI-ì‚¬ìš©ì í˜‘ì—…ì„ ìœ„í•œ í•µì‹¬ íŒ¨í„´ê³¼ ê¸°ë²•. ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ìì£¼ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ë§Œ í¬í•¨.

## ğŸ”§ Zenject DI í•µì‹¬ íŒ¨í„´

### ê¸°ë³¸ ë°”ì¸ë”© íŒ¨í„´
```csharp
// ê¸°ë³¸ ì‹±ê¸€í†¤ ë°”ì¸ë”© (Inspector í•œê¸€í™” í¬í•¨)
public class CoreSystemInstaller : MonoInstaller<CoreSystemInstaller>
{
    [Header("ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ì„¤ì •")]
    [Tooltip("ì˜¤ë””ì˜¤ ë§¤ë‹ˆì € ì¸ìŠ¤í„´ìŠ¤ì…ë‹ˆë‹¤")]
    [SerializeField] private AudioManager audioManager;
    
    public override void InstallBindings()
    {
        Container.Bind<IAudioManager>().FromInstance(audioManager).AsSingle();
        Container.Bind<ICoreSystemInitializable>().To<CoreSystemInitializer>().AsSingle();
    }
}

// ì˜ì¡´ì„± ì£¼ì… ì‚¬ìš© (Inspector í•œê¸€í™” í¬í•¨)
public class MyController : MonoBehaviour
{
    [Header("ì»¨íŠ¸ë¡¤ëŸ¬ ì„¤ì •")]
    [Tooltip("ì‚¬ìš©í•  ì˜¤ë””ì˜¤ ë§¤ë‹ˆì €ì…ë‹ˆë‹¤")]
    [Inject] private IAudioManager audioManager;
    
    [SerializeField] private AudioClip sfxClip;
    
    private void Start()
    {
        audioManager.PlaySFX(sfxClip);
    }
}
```

### íŒ©í† ë¦¬ íŒ¨í„´ ê¸°ë³¸ í™œìš©
```csharp
// ê°„ë‹¨í•œ íŒ©í† ë¦¬ íŒ¨í„´
public class SkillCardFactory
{
    private readonly SkillCardDefinition[] cardDefinitions;
    
    public SkillCardFactory(SkillCardDefinition[] definitions)
    {
        this.cardDefinitions = definitions;
    }
    
    public SkillCard CreateCard(string cardId)
    {
        var definition = cardDefinitions.FirstOrDefault(d => d.CardId == cardId);
        if (definition == null)
        {
            GameLogger.LogError($"ì¹´ë“œ ì •ì˜ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ: {cardId}", GameLogger.LogCategory.Error);
            return null;
        }
        
        return new SkillCard(definition);
    }
}
```

### ìŠ¤ì½”í”„ ê´€ë¦¬
```csharp
// ì”¬ë³„ ìŠ¤ì½”í”„ ê´€ë¦¬
public class SceneScopeInstaller : MonoInstaller
{
    public override void InstallBindings()
    {
        // ì”¬ ìŠ¤ì½”í”„ - ì”¬ ì „í™˜ ì‹œ ìë™ í•´ì œ
        Container.Bind<ISceneManager>().To<SceneManager>().AsSingle();
        
        // ì „ì—­ ìŠ¤ì½”í”„ - ì”¬ ì „í™˜ ì‹œì—ë„ ìœ ì§€
        Container.Bind<IGlobalDataManager>().To<GlobalDataManager>().AsSingle().NonLazy();
    }
}
```

### âš ï¸ Zenject ì‚¬ìš© ì£¼ì˜ì‚¬í•­
- **ì ˆëŒ€ ê¸ˆì§€**: `Container.Bind<MonoBehaviour>()` - MonoBehaviourëŠ” ì§ì ‘ ë°”ì¸ë”© ê¸ˆì§€
- **ì ˆëŒ€ ê¸ˆì§€**: ìˆœí™˜ ì˜ì¡´ì„± ìƒì„±
- **ì£¼ì˜**: `NonLazy()` ì‚¬ìš© ì‹œ ì´ˆê¸°í™” ìˆœì„œ ê³ ë ¤ í•„ìˆ˜

## ğŸ¬ DOTween Pro í•µì‹¬ íŒ¨í„´

### ê¸°ë³¸ ì• ë‹ˆë©”ì´ì…˜ íŒ¨í„´
```csharp
// ê¸°ë³¸ ì´ë™ ì• ë‹ˆë©”ì´ì…˜
transform.DOMove(targetPosition, duration)
    .SetEase(Ease.OutQuad)
    .OnComplete(() => GameLogger.LogInfo("ì´ë™ ì™„ë£Œ", GameLogger.LogCategory.UI));

// ì²´ì¸ ì• ë‹ˆë©”ì´ì…˜
Sequence sequence = DOTween.Sequence();
sequence.Append(transform.DOScale(Vector3.one * 1.2f, 0.3f).SetEase(Ease.OutBack))
         .Append(transform.DOScale(Vector3.one, 0.2f).SetEase(Ease.InBack));
```

### UI ì• ë‹ˆë©”ì´ì…˜ íŒ¨í„´
```csharp
// UI í˜ì´ë“œ ì¸/ì•„ì›ƒ
canvasGroup.DOFade(1f, 0.5f).SetEase(Ease.OutQuad);
canvasGroup.DOFade(0f, 0.3f).SetEase(Ease.InQuad);

// UI ìŠ¤ì¼€ì¼ ì• ë‹ˆë©”ì´ì…˜
button.transform.DOScale(Vector3.one * 1.1f, 0.1f)
    .SetLoops(2, LoopType.Yoyo)
    .SetEase(Ease.InOutQuad);
```

### âš ï¸ DOTween ì‚¬ìš© ì£¼ì˜ì‚¬í•­
- **ì ˆëŒ€ ê¸ˆì§€**: `DOTween.KillAll()` ì‚¬ìš©
- **í•„ìˆ˜**: ì• ë‹ˆë©”ì´ì…˜ ì™„ë£Œ ì‹œ ì •ë¦¬ ì½”ë“œ í¬í•¨
- **ì£¼ì˜**: ë¬´í•œ ë£¨í”„ ì• ë‹ˆë©”ì´ì…˜ ë°©ì§€

## ğŸ“š ë¬¸ì„œí™” í•µì‹¬ íŒ¨í„´

### XML ë¬¸ì„œí™” í‘œì¤€
```csharp
/// <summary>
/// ì „íˆ¬ ì‹œìŠ¤í…œì˜ í•µì‹¬ ë§¤ë‹ˆì € í´ë˜ìŠ¤ì…ë‹ˆë‹¤.
/// í„´ ê´€ë¦¬, ì¹´ë“œ ì‹¤í–‰, ìŠ¬ë¡¯ ì´ë™ ë“±ì˜ ì „íˆ¬ ë¡œì§ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.
/// </summary>
/// <remarks>
/// ì´ í´ë˜ìŠ¤ëŠ” ìƒˆë¡œìš´ 5ìŠ¬ë¡¯ ì‹œìŠ¤í…œì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.
/// ê¸°ì¡´ 4ìŠ¬ë¡¯ ì‹œìŠ¤í…œê³¼ì˜ í˜¸í™˜ì„±ì„ ìœ„í•´ ë ˆê±°ì‹œ ë©”ì„œë“œë„ ì œê³µí•©ë‹ˆë‹¤.
/// </remarks>
public class CombatExecutionManager : MonoBehaviour, ICoreSystemInitializable
{
    /// <summary>
    /// ì „íˆ¬ ìŠ¬ë¡¯ì—ì„œ ì¹´ë“œë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.
    /// </summary>
    /// <param name="slotPosition">ì‹¤í–‰í•  ìŠ¬ë¡¯ ìœ„ì¹˜</param>
    /// <param name="executeImmediately">ì¦‰ì‹œ ì‹¤í–‰ ì—¬ë¶€ (ê¸°ë³¸ê°’: true)</param>
    /// <returns>ì‹¤í–‰ ì„±ê³µ ì—¬ë¶€</returns>
    /// <exception cref="System.InvalidOperationException">
    /// ì „íˆ¬ í˜ì´ì¦ˆê°€ ì•„ë‹ ë•Œ ë°œìƒ
    /// </exception>
    public bool ExecuteCardInSlot(CombatSlotPosition slotPosition, bool executeImmediately = true)
    {
        // êµ¬í˜„...
    }
}
```

### ì£¼ì„ ì‘ì„± í‘œì¤€
```csharp
// ìƒˆë¡œìš´ 5ìŠ¬ë¡¯ ì‹œìŠ¤í…œì˜ ìŠ¬ë¡¯ ì´ë™ ë¡œì§
// ê¸°ì¡´ 4ìŠ¬ë¡¯ ì‹œìŠ¤í…œê³¼ì˜ í˜¸í™˜ì„±ì„ ìœ„í•´ ë³„ë„ ë©”ì„œë“œë¡œ ë¶„ë¦¬
private void MoveSlotsForwardNew()
{
    // 1ë‹¨ê³„: ëŒ€ê¸° ìŠ¬ë¡¯ì—ì„œ ì „íˆ¬ ìŠ¬ë¡¯ìœ¼ë¡œ ì´ë™
    MoveCardFromWaitToBattle(CombatSlotPosition.WAIT_SLOT_4, CombatSlotPosition.BATTLE_SLOT_1);
    
    // 2ë‹¨ê³„: ë‚˜ë¨¸ì§€ ìŠ¬ë¡¯ë“¤ì„ ìˆœì°¨ì ìœ¼ë¡œ ì´ë™
    for (int i = 3; i >= 1; i--)
    {
        var fromSlot = (CombatSlotPosition)(i + 3);
        var toSlot = (CombatSlotPosition)(i + 4);
        MoveCardBetweenWaitSlots(fromSlot, toSlot);
    }
}
```

## âš¡ ì„±ëŠ¥ ìµœì í™” í•µì‹¬ ê¸°ë²•

### ì˜¤ë¸Œì íŠ¸ í’€ë§ ê¸°ë³¸ íŒ¨í„´
```csharp
public class CardPool : MonoBehaviour
{
    private Queue<SkillCard> availableCards = new Queue<SkillCard>();
    private HashSet<SkillCard> activeCards = new HashSet<SkillCard>();
    
    public SkillCard GetCard()
    {
        SkillCard card;
        if (availableCards.Count > 0)
        {
            card = availableCards.Dequeue();
        }
        else
        {
            card = Instantiate(cardPrefab, transform);
        }
        
        activeCards.Add(card);
        card.gameObject.SetActive(true);
        return card;
    }
    
    public void ReturnCard(SkillCard card)
    {
        if (activeCards.Remove(card))
        {
            card.gameObject.SetActive(false);
            availableCards.Enqueue(card);
        }
    }
}
```

### ìºì‹± ê¸°ë³¸ ì „ëµ
```csharp
public class CachedDataManager : MonoBehaviour
{
    private Dictionary<string, object> cache = new Dictionary<string, object>();
    
    public T GetCachedData<T>(string key, Func<T> dataProvider)
    {
        if (cache.ContainsKey(key))
        {
            return (T)cache[key];
        }
        
        T data = dataProvider();
        cache[key] = data;
        return data;
    }
}
```

### âš ï¸ ì„±ëŠ¥ ìµœì í™” ì£¼ì˜ì‚¬í•­
- **ì ˆëŒ€ ê¸ˆì§€**: ë§¤ í”„ë ˆì„ `FindObjectOfType` í˜¸ì¶œ
- **ì ˆëŒ€ ê¸ˆì§€**: ë¬´ì œí•œ ì˜¤ë¸Œì íŠ¸ ìƒì„±
- **ì£¼ì˜**: ìºì‹œ í¬ê¸° ì œí•œ í•„ìˆ˜
- **ì£¼ì˜**: ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ëª¨ë‹ˆí„°ë§ í•„ìˆ˜

## ğŸ” ë””ë²„ê¹… í•µì‹¬ ê¸°ë²•

### ë¡œê¹… ì „ëµ
```csharp
// ì»¨í…ìŠ¤íŠ¸ë³„ ë¡œê¹…
public static class AdvancedLogging
{
    public static void LogCombatAction(string action, params object[] parameters)
    {
        string message = string.Format(action, parameters);
        GameLogger.LogInfo($"[ì „íˆ¬] {message}", GameLogger.LogCategory.Combat);
    }
    
    public static void LogPerformanceMetric(string operation, float duration)
    {
        if (duration > 0.016f) // 60fps ê¸°ì¤€
        {
            GameLogger.LogWarning($"ì„±ëŠ¥ ì´ìŠˆ ê°ì§€: {operation} ({duration:F3}ì´ˆ)", GameLogger.LogCategory.Performance);
        }
    }
}
```

## ğŸ“‹ í•µì‹¬ íŒ¨í„´ ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… í•„ìˆ˜ ì ìš© ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] DOTween ì• ë‹ˆë©”ì´ì…˜ì— ì ì ˆí•œ Ease ì„¤ì • ì ìš©
- [ ] Zenject ë°”ì¸ë”©ì— ì ì ˆí•œ ìŠ¤ì½”í”„ ì„¤ì •
- [ ] ë³µì¡í•œ ë¡œì§ì— ìƒì„¸í•œ ì£¼ì„ ì‘ì„±
- [ ] ì„±ëŠ¥ ìµœì í™” ê¸°ë²• ì ìš© (í’€ë§, ìºì‹±)
- [ ] XML ë¬¸ì„œí™” ì™„ë£Œ
- [ ] Unity Inspector í•œê¸€í™” ì™„ë£Œ (Header, Tooltip)
- [ ] ë””ë²„ê¹… ë¡œê·¸ ì ì ˆíˆ ì„¤ì •
- [ ] ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ ì½”ë“œ ì ìš©

### âš ï¸ ê¸ˆì§€ì‚¬í•­ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] DOTween.KillAll() ì‚¬ìš©í•˜ì§€ ì•ŠìŒ
- [ ] ë¬´í•œ ë£¨í”„ ì• ë‹ˆë©”ì´ì…˜ ì—†ìŒ
- [ ] MonoBehaviour ì§ì ‘ ë°”ì¸ë”© ì—†ìŒ
- [ ] ìˆœí™˜ ì˜ì¡´ì„± ì—†ìŒ
- [ ] ë§¤ í”„ë ˆì„ FindObjectOfType í˜¸ì¶œ ì—†ìŒ
- [ ] ë¬´ì œí•œ ì˜¤ë¸Œì íŠ¸ ìƒì„± ì—†ìŒ

## ğŸ“ ë³€ê²½ ê¸°ë¡
- 2025-01-27 | Maintainer | Unity Inspector í•œê¸€í™” ê·œì¹™ ì¶”ê°€ ë° ì²´í¬ë¦¬ìŠ¤íŠ¸ ê°•í™” | ë¬¸ì„œ