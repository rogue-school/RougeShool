---
description: 게임 업계 전문 개발자 수준의 코드 품질 및 개발 규칙
globs: ["**/*.cs", "**/*.unity", "**/*.prefab"]
alwaysApply: true
---

# RougeShool 프로젝트 개발 룰

## 📋 기본 개발 원칙
- 모든 주석, 문서, 로그 메시지는 한국어로 작성
- GameLogger를 사용하여 Debug.Log 대신 카테고리별 로깅
- SOLID 원칙을 준수하여 엔터프라이즈급 코드 품질 유지
- 엔터프라이즈급 전문적이고 완성도 높은 코드 작성

## 🤖 AI 코드 생성 규칙
- 모든 코드 생성 전에 해당 코드의 필요성과 목적을 먼저 설명
- 사용자 확인을 받은 후에만 코드를 실제로 생성
- 기존 코드와의 중복 여부를 먼저 검토하고 보고
- 새로운 기능 추가 시 기존 시스템과의 연동 방안 제시
- 코드 생성 이유와 예상 효과를 명확히 설명
- 게임 장르에 맞지 않는 불필요한 변수나 함수 생성 금지
- 필요한 변수와 함수를 먼저 추천하고 사용자 확인 후 생성
- 사용자가 명시적으로 요청하지 않은 기능은 추가하지 않음

## 👨‍💻 전문 개발자 평가 규칙
- 사용자가 평가를 요청할 때 항상 전문적인 개발자 관점에서 평가
- 코드 품질, 성능, 유지보수성, 확장성을 종합적으로 분석
- 현업 수준의 기준으로 코드의 장단점을 객관적으로 제시
- 개선 방안과 베스트 프랙티스를 구체적으로 제안
- 게임 개발 업계의 표준과 트렌드를 고려한 평가
- 팀 협업과 프로젝트 관리 관점에서의 조언 제공

## 🏗️ 아키텍처 및 디자인 패턴
- 시스템별로 폴더를 분리하고 네임스페이스와 일치시킴
- 싱글톤 매니저는 Instance 프로퍼티와 Awake에서 초기화
- 모듈형 시스템 구조 유지 (AnimationSystem, CombatSystem 등)
- 상태 기반 게임 로직 구현
- 팩토리 패턴은 Factory 접미사로 끝남
- 헬퍼 클래스는 Helper 접미사로 끝남
- 컨트롤러 클래스는 Controller 접미사로 끝남

## 💻 코딩 표준 및 네이밍
- 클래스는 PascalCase, 변수는 camelCase로 작성
- 인터페이스는 I 접두사, 매니저는 Manager 접미사 사용
- ScriptableObject는 Data 접미사로 끝남
- 이벤트는 System.Action을 사용하고 On 접두사로 시작
- 모든 Inspector 필드 라벨과 툴팁은 한국어로 작성
- #region을 사용하여 코드 섹션을 명확히 구분

## 🔄 리팩토링 및 코드 개선
- 기존 코드를 리팩토링하는 것을 새 기능 생성보다 우선
- 구현 전에 유사한 기존 스크립트와 기능을 항상 검색
- 중복 코드 발견 시 기존 코드 재사용 또는 개선 제안
- 불필요한 코드는 완전히 제거하고 주석 처리하지 않음
- 대규모 리팩토링 시 모든 관련 요소를 일관되게 이름 변경

## 🏗️ 대규모 리팩토링 규칙
- 리팩토링 전에 전체 시스템 구조와 의존성을 먼저 분석
- 단계별 리팩토링 계획을 수립하고 사용자에게 제시
- 기존 기능의 동작을 보장하는 테스트 케이스 먼저 작성
- 리팩토링 범위와 영향도를 명확히 정의
- 백업 및 롤백 계획을 수립
- 리팩토링 후 성능 및 기능 검증 필수

## 🎨 디자인 패턴 적용 규칙
- 싱글톤: 매니저 클래스에서만 사용, Instance 프로퍼티 필수
- 팩토리: 객체 생성 로직을 캡슐화할 때 사용
- 옵저버: 이벤트 기반 시스템에서 사용, System.Action 활용
- 상태: 게임 상태 전환 시 사용, IState 인터페이스 구현
- 전략: 알고리즘을 런타임에 교체할 때 사용
- 커맨드: 사용자 입력이나 액션을 객체로 캡슐화할 때 사용
- MVC: UI와 로직을 분리할 때 사용
- 컴포넌트: 게임 오브젝트의 기능을 모듈화할 때 사용

## 🎮 Unity 특화 규칙
- DontDestroyOnLoad는 매니저 클래스에서만 사용
- 성능 최적화를 고려한 코드 작성
- 메모리 할당 최소화 및 성능 최적화 고려
- Update() 메서드에서 불필요한 계산 제거
- 오브젝트 풀링 패턴 활용

## 📁 파일 구조
```
Script/
├── AnimationSystem/     # 애니메이션 관리
├── CharacterSystem/     # 캐릭터 관리
├── CombatSystem/        # 전투 시스템
├── InventorySystem/     # 인벤토리 관리
├── SkillCardSystem/     # 스킬카드 시스템
├── UISystem/           # UI 관리
└── UtilitySystem/      # 유틸리티 및 공통 기능
```

각 시스템은 Core, Data, Interface, Manager, UI 폴더로 구성됩니다.

## 🛡️ 안정성 및 품질 관리
- 모든 public 메서드는 null 체크 필수
- 예외 상황에 대한 명확한 처리 로직 구현
- 리소스 해제는 using문 또는 try-finally 사용
- 게임 상태 전환 시 안전한 초기화/정리
- 메모리 할당 최소화 및 성능 최적화 고려
- Update() 메서드에서 불필요한 계산 제거
- 오브젝트 풀링 패턴 활용
- 단위 테스트 작성 가능한 구조 설계