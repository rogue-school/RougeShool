---
description: "AnimationSystem κ°λ° κ°€μ΄λ“ λ° κ·μΉ™ - Unity 2D μ• λ‹λ©”μ΄μ… ν†µν•© κ΄€λ¦¬"
globs: ["Assets/Script/AnimationSystem/**/*.cs"]
rule_id: animation_system_rules
version: 1.2.0
alwaysApply: true
---

# AnimationSystem κ°λ° κ·μΉ™

## π“‹ μ‹μ¤ν… κ°μ”
AnimationSystemμ€ Unity 2D κ²μ„μ λ¨λ“  μ• λ‹λ©”μ΄μ…μ„ ν†µν•© κ΄€λ¦¬ν•λ” μ‹μ¤ν…μ…λ‹λ‹¤. μΊλ¦­ν„°, μ¤ν‚¬μΉ΄λ“, UI λ“± λ‹¤μ–‘ν• μ”μ†μ μ• λ‹λ©”μ΄μ…μ„ μ¤‘μ•™ν™”λ λ°©μ‹μΌλ΅ μ μ–΄ν•©λ‹λ‹¤.

## π—οΈ ν΄λ” κµ¬μ΅° κ·μΉ™
```
AnimationSystem/
β”β”€β”€ Manager/           # μ• λ‹λ©”μ΄μ… λ§¤λ‹μ € (2κ° νμΌ)
β”β”€β”€ Interface/         # μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤ (15κ° νμΌ)
β”β”€β”€ Data/             # μ• λ‹λ©”μ΄μ… λ°μ΄ν„° (8κ° νμΌ)
β”β”€β”€ Animator/         # μ• λ‹λ©”μ΄μ… κµ¬ν„μ²΄ (20κ° νμΌ)
β”‚   β”β”€β”€ CharacterAnimation/    # μΊλ¦­ν„° μ• λ‹λ©”μ΄μ… (8κ° νμΌ)
β”‚   β”‚   β”β”€β”€ DeathAnimation/    # μ‚¬λ§ μ• λ‹λ©”μ΄μ… (2κ° νμΌ)
β”‚   β”‚   β””β”€β”€ SpawnAnimation/    # λ“±μ¥ μ• λ‹λ©”μ΄μ… (2κ° νμΌ)
β”‚   β””β”€β”€ SkillCardAnimation/    # μ¤ν‚¬μΉ΄λ“ μ• λ‹λ©”μ΄μ… (12κ° νμΌ)
β”‚       β”β”€β”€ DragAnimation/     # λ“λκ·Έ μ• λ‹λ©”μ΄μ… (2κ° νμΌ)
β”‚       β”β”€β”€ DropAnimation/     # λ“λ΅­ μ• λ‹λ©”μ΄μ… (2κ° νμΌ)
β”‚       β”β”€β”€ MoveAnimation/     # μ΄λ™ μ• λ‹λ©”μ΄μ… (2κ° νμΌ)
β”‚       β”β”€β”€ MoveToCombatSlotAnimation/ # μ „ν¬ μ¬λ΅― μ΄λ™ (2κ° νμΌ)
β”‚       β”β”€β”€ SpawnAnimation/    # λ“±μ¥ μ• λ‹λ©”μ΄μ… (2κ° νμΌ)
β”‚       β”β”€β”€ UseAnimation/      # μ‚¬μ© μ• λ‹λ©”μ΄μ… (2κ° νμΌ)
β”‚       β””β”€β”€ VanishAnimation/    # μ†λ©Έ μ• λ‹λ©”μ΄μ… (2κ° νμΌ)
β”β”€β”€ Helper/           # μ• λ‹λ©”μ΄μ… ν—¬νΌ (1κ° νμΌ)
β””β”€β”€ Controllers/      # μ• λ‹λ©”μ΄μ… μ»¨νΈλ΅¤λ¬ (2κ° νμΌ)
```

## π“ μ£Όμ” μ»΄ν¬λ„νΈ κ·μΉ™

### Manager ν΄λ” κ·μΉ™ (2κ° νμΌ)
- **AnimationFacade.cs**: μ• λ‹λ©”μ΄μ… μ‹μ¤ν…μ ν†µν•© μΈν„°νμ΄μ¤ (μ‹±κΈ€ν†¤ ν¨ν„΄)
- **AnimationSystemInitializer.cs**: μ• λ‹λ©”μ΄μ… μ‹μ¤ν… μ΄κΈ°ν™” (Zenject DI)

### Interface ν΄λ” κ·μΉ™ (15κ° νμΌ)
- **IAnimationScript.cs**: μ• λ‹λ©”μ΄μ… μ¤ν¬λ¦½νΈ κΈ°λ³Έ μΈν„°νμ΄μ¤
- **ICharacterCombatSlotMoveAnimationScript.cs**: μΊλ¦­ν„° μ „ν¬ μ¬λ΅― μ΄λ™ μ• λ‹λ©”μ΄μ…
- **ICharacterDeathAnimationScript.cs**: μΊλ¦­ν„° μ‚¬λ§ μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤
- **ICharacterMoveAnimationScript.cs**: μΊλ¦­ν„° μ΄λ™ μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤
- **ICharacterSpawnAnimationScript.cs**: μΊλ¦­ν„° λ“±μ¥ μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤
- **ISkillCardCombatSlotMoveAnimationScript.cs**: μ¤ν‚¬μΉ΄λ“ μ „ν¬ μ¬λ΅― μ΄λ™ μ• λ‹λ©”μ΄μ…
- **ISkillCardDeathAnimationScript.cs**: μ¤ν‚¬μΉ΄λ“ μ‚¬λ§ μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤
- **ISkillCardDragAnimationScript.cs**: μ¤ν‚¬μΉ΄λ“ λ“λκ·Έ μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤
- **ISkillCardDropAnimationScript.cs**: μ¤ν‚¬μΉ΄λ“ λ“λ΅­ μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤
- **ISkillCardMoveAnimationScript.cs**: μ¤ν‚¬μΉ΄λ“ μ΄λ™ μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤
- **ISkillCardSpawnAnimationScript.cs**: μ¤ν‚¬μΉ΄λ“ λ“±μ¥ μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤
- **ISkillCardUseAnimationScript.cs**: μ¤ν‚¬μΉ΄λ“ μ‚¬μ© μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤
- **ISkillCardVanishAnimationScript.cs**: μ¤ν‚¬μΉ΄λ“ μ†λ©Έ μ• λ‹λ©”μ΄μ… μΈν„°νμ΄μ¤

### Data ν΄λ” κ·μΉ™ (8κ° νμΌ)
- **CharacterAnimationEntry.cs**: μΊλ¦­ν„° μ• λ‹λ©”μ΄μ… μ—”νΈλ¦¬ λ°μ΄ν„°
- **CharacterAnimationSettings.cs**: μΊλ¦­ν„° μ• λ‹λ©”μ΄μ… μ„¤μ •
- **EnemyCharacterAnimationDatabase.cs**: μ  μΊλ¦­ν„° μ• λ‹λ©”μ΄μ… λ°μ΄ν„°λ² μ΄μ¤
- **EnemySkillCardAnimationDatabase.cs**: μ  μ¤ν‚¬μΉ΄λ“ μ• λ‹λ©”μ΄μ… λ°μ΄ν„°λ² μ΄μ¤
- **PlayerCharacterAnimationDatabase.cs**: ν”λ μ΄μ–΄ μΊλ¦­ν„° μ• λ‹λ©”μ΄μ… λ°μ΄ν„°λ² μ΄μ¤
- **PlayerSkillCardAnimationDatabase.cs**: ν”λ μ΄μ–΄ μ¤ν‚¬μΉ΄λ“ μ• λ‹λ©”μ΄μ… λ°μ΄ν„°λ² μ΄μ¤
- **SkillCardAnimationEntry.cs**: μ¤ν‚¬μΉ΄λ“ μ• λ‹λ©”μ΄μ… μ—”νΈλ¦¬ λ°μ΄ν„°
- **SkillCardAnimationSettings.cs**: μ¤ν‚¬μΉ΄λ“ μ• λ‹λ©”μ΄μ… μ„¤μ •

### Animator ν΄λ” κ·μΉ™ (11κ° νμΌ)

#### CharacterAnimation ν•μ„ ν΄λ” (4κ° νμΌ)
- **DeathAnimation/**:
  - **CharacterDeathAnimation001.cs**: μΊλ¦­ν„° μ‚¬λ§ μ• λ‹λ©”μ΄μ… κµ¬ν„μ²΄
- **SpawnAnimation/**:
  - **CharacterSpawnAnimation001.cs**: μΊλ¦­ν„° λ“±μ¥ μ• λ‹λ©”μ΄μ… κµ¬ν„μ²΄

#### SkillCardAnimation ν•μ„ ν΄λ” (7κ° νμΌ)
- **DragAnimation/**:
  - **SkillCardDragAnimation001.cs**: μ¤ν‚¬μΉ΄λ“ λ“λκ·Έ μ• λ‹λ©”μ΄μ… κµ¬ν„μ²΄
- **DropAnimation/**:
  - **SkillCardDropAnimation001.cs**: μ¤ν‚¬μΉ΄λ“ λ“λ΅­ μ• λ‹λ©”μ΄μ… κµ¬ν„μ²΄
- **MoveAnimation/**:
  - **SkillCardMoveAnimation001.cs**: μ¤ν‚¬μΉ΄λ“ μ΄λ™ μ• λ‹λ©”μ΄μ… κµ¬ν„μ²΄
- **MoveToCombatSlotAnimation/**:
  - **SkillCardCombatSlotMoveAnimation001.cs**: μ¤ν‚¬μΉ΄λ“ μ „ν¬ μ¬λ΅― μ΄λ™ μ• λ‹λ©”μ΄μ… κµ¬ν„μ²΄
- **SpawnAnimation/**:
  - **SkillCardSpawnAnimation001.cs**: μ¤ν‚¬μΉ΄λ“ λ“±μ¥ μ• λ‹λ©”μ΄μ… κµ¬ν„μ²΄
- **UseAnimation/**:
  - **SkillCardUseAnimation001.cs**: μ¤ν‚¬μΉ΄λ“ μ‚¬μ© μ• λ‹λ©”μ΄μ… κµ¬ν„μ²΄
- **VanishAnimation/**:
  - **SkillCardVanishAnimation001.cs**: μ¤ν‚¬μΉ΄λ“ μ†λ©Έ μ• λ‹λ©”μ΄μ… κµ¬ν„μ²΄

### Helper ν΄λ” κ·μΉ™ (1κ° νμΌ)
- **AnimationHelper.cs**: μ• λ‹λ©”μ΄μ… μ ν‹Έλ¦¬ν‹° ν•¨μ

### Controllers ν΄λ” κ·μΉ™ (2κ° νμΌ)
- **CharacterAnimationController.cs**: μΊλ¦­ν„° μ• λ‹λ©”μ΄μ… μ»¨νΈλ΅¤λ¬
- **SkillCardAnimationController.cs**: μ¤ν‚¬μΉ΄λ“ μ• λ‹λ©”μ΄μ… μ»¨νΈλ΅¤λ¬

## π― κ°λ° κ·μΉ™

### 1. μ• λ‹λ©”μ΄μ… κµ¬ν„ κ·μΉ™
- **DOTween μ°μ„  μ‚¬μ©**: λ¨λ“  μ• λ‹λ©”μ΄μ…μ€ μ½”λ£¨ν‹΄ λ€μ‹  DOTween μ‚¬μ©
- **μ²΄μΈ μ• λ‹λ©”μ΄μ…**: `.SetEase()`, `.OnComplete()`, `.SetDelay()` λ“± κ³ κΈ‰ κΈ°λ¥ ν™μ©
- **μ• λ‹λ©”μ΄μ… ν’€λ§**: `DOTween.SetTweensCapacity()`λ΅ μ„±λ¥ μµμ ν™”
- **SafeMode μ„¤μ •**: μ•μ •μ„±μ„ μ„ν•΄ DOTween SafeMode ν™μ„±ν™” μ μ§€

### 2. μΈν„°νμ΄μ¤ κµ¬ν„ κ·μΉ™
- λ¨λ“  μ• λ‹λ©”μ΄μ… μ¤ν¬λ¦½νΈλ” ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•¨
- μΈν„°νμ΄μ¤λ…μ€ `I[Type][Action]AnimationScript` ν•μ‹
- μμ™Έ μ²λ¦¬ λ° null μ²΄ν¬ ν•„μ

### 3. λ°μ΄ν„°λ² μ΄μ¤ κ·μΉ™
- ScriptableObject κΈ°λ° λ°μ΄ν„°λ² μ΄μ¤ μ‚¬μ©
- ν”λ μ΄μ–΄/μ  κµ¬λ¶„ν•μ—¬ λ³„λ„ λ°μ΄ν„°λ² μ΄μ¤ κ΄€λ¦¬
- μ»¤μ¤ν…€ μ—λ””ν„°λ¥Ό ν†µν• κ°λ°μ μΉν™”μ  μΈν„°νμ΄μ¤ μ κ³µ

### 4. μ»¨νΈλ΅¤λ¬ κ·μΉ™
- CharacterAnimationController: μΊλ¦­ν„° μ• λ‹λ©”μ΄μ… ν†µν•© κ΄€λ¦¬
- SkillCardAnimationController: μ¤ν‚¬μΉ΄λ“ μ• λ‹λ©”μ΄μ… ν†µν•© κ΄€λ¦¬
- μ΄λ²¤νΈ κΈ°λ° μ• λ‹λ©”μ΄μ… μ‹¤ν–‰

## π”§ μ‚¬μ© λ°©λ²•

### κΈ°λ³Έ μ‚¬μ©λ²•
```csharp
// AnimationFacadeλ¥Ό ν†µν• μΊλ¦­ν„° μ• λ‹λ©”μ΄μ… μ‹¤ν–‰
AnimationFacade.Instance.PlayCharacterAnimation(characterId, "spawn", target, onComplete, isEnemy);
AnimationFacade.Instance.PlayCharacterDeathAnimation(characterId, target, onComplete, isEnemy);

// μ¤ν‚¬μΉ΄λ“ μ• λ‹λ©”μ΄μ… μ‹¤ν–‰
AnimationFacade.Instance.PlaySkillCardAnimation(cardId, "spawn", target);
AnimationFacade.Instance.PlaySkillCardAnimation(cardId, "move", target, onComplete);

// ISkillCard κΈ°λ° μ• λ‹λ©”μ΄μ… μ‹¤ν–‰
AnimationFacade.Instance.PlaySkillCardAnimation(skillCard, "use", target, onComplete);
```

### μ£Όμ” ν΄λμ¤ λ° λ©”μ„λ“

#### AnimationFacade ν΄λμ¤
- **Instance**: μ‹±κΈ€ν†¤ μΈμ¤ν„΄μ¤
- **PlayCharacterAnimation()**: μΊλ¦­ν„° μ• λ‹λ©”μ΄μ… μ‹¤ν–‰
- **PlayCharacterDeathAnimation()**: μΊλ¦­ν„° μ‚¬λ§ μ• λ‹λ©”μ΄μ… μ‹¤ν–‰
- **PlaySkillCardAnimation()**: μ¤ν‚¬μΉ΄λ“ μ• λ‹λ©”μ΄μ… μ‹¤ν–‰ (λ‹¤μ¤‘ μ¤λ²„λ΅λ“)
- **LoadAllData()**: λ¨λ“  μ• λ‹λ©”μ΄μ… λ°μ΄ν„° λ΅λ“

#### CharacterAnimationController ν΄λμ¤
- **PlayAnimation()**: μ• λ‹λ©”μ΄μ… νƒ€μ…λ³„ μ‹¤ν–‰ (spawn, death, damage, heal)
- **GetSettings()**: ν„μ¬ μ• λ‹λ©”μ΄μ… μ„¤μ • λ°ν™
- **UpdateSettings()**: μ• λ‹λ©”μ΄μ… μ„¤μ • μ—…λ°μ΄νΈ
- **UpdateSpawnSettings()**: λ“±μ¥ μ• λ‹λ©”μ΄μ… μ„¤μ • μ—…λ°μ΄νΈ
- **UpdateDeathSettings()**: μ‚¬λ§ μ• λ‹λ©”μ΄μ… μ„¤μ • μ—…λ°μ΄νΈ
- **UpdateDamageSettings()**: ν”Όν•΄ μ• λ‹λ©”μ΄μ… μ„¤μ • μ—…λ°μ΄νΈ

#### SkillCardAnimationController ν΄λμ¤
- **PlaySpawnAnimation()**: μ¤ν‚¬μΉ΄λ“ λ“±μ¥ μ• λ‹λ©”μ΄μ…
- **PlayMoveAnimation()**: μ¤ν‚¬μΉ΄λ“ μ΄λ™ μ• λ‹λ©”μ΄μ…
- **PlayUseAnimation()**: μ¤ν‚¬μΉ΄λ“ μ‚¬μ© μ• λ‹λ©”μ΄μ…

### μ• λ‹λ©”μ΄μ… μ„¤μ • κµ¬μ΅°
```csharp
// CharacterAnimationSettings μ£Όμ” μ†μ„±
public class AnimationSettings
{
    // λ“±μ¥ μ• λ‹λ©”μ΄μ…
    public float spawnDuration = 1.0f;
    public Vector3 spawnStartScale = Vector3.zero;
    public Vector3 spawnEndScale = Vector3.one;
    public Ease spawnEase = Ease.OutBack;
    public bool useSpawnGlow = true;
    public Color spawnGlowColor = Color.blue;
    
    // μ‚¬λ§ μ• λ‹λ©”μ΄μ…
    public float deathDuration = 1.5f;
    public Ease deathEase = Ease.InBack;
    public bool useDeathFade = true;
    public Vector3 deathEndScale = Vector3.zero;
    
    // ν”Όν•΄ μ• λ‹λ©”μ΄μ…
    public float damageDuration = 0.3f;
    public bool useDamageShake = true;
    public float damageShakeStrength = 0.1f;
    
    // μΉμ  μ• λ‹λ©”μ΄μ…
    public float healDuration = 0.8f;
    public Color healGlowColor = Color.green;
}
```

### μ»¤μ¤ν…€ μ• λ‹λ©”μ΄μ… μ¶”κ°€ μ μ°¨
1. ν•΄λ‹Ή νƒ€μ…μ Animator ν΄λμ¤ μƒμ†
2. AnimationDatabaseμ— μ• λ‹λ©”μ΄μ… λ°μ΄ν„° λ“±λ΅
3. AnimationSettingsμ—μ„ μ„¤μ • κµ¬μ„±
4. μΈν„°νμ΄μ¤ κµ¬ν„ λ° μμ™Έ μ²λ¦¬ μ¶”κ°€

## π—οΈ μ•„ν‚¤ν…μ² ν¨ν„΄

### 1. Facade ν¨ν„΄
- **AnimationFacade**: λ³µμ΅ν• μ• λ‹λ©”μ΄μ… μ‹μ¤ν…μ„ λ‹¨μν• μΈν„°νμ΄μ¤λ΅ μ κ³µ
- μ‹±κΈ€ν†¤ ν¨ν„΄μΌλ΅ μ „μ—­ μ ‘κ·Ό κ°€λ¥

### 2. Strategy ν¨ν„΄
- λ‹¤μ–‘ν• μ• λ‹λ©”μ΄μ… νƒ€μ…μ„ λ°νƒ€μ„μ— κµμ²΄ κ°€λ¥
- μΈν„°νμ΄μ¤ κΈ°λ° κµ¬ν„μΌλ΅ ν™•μ¥μ„± ν™•λ³΄

### 3. Factory ν¨ν„΄
- μ• λ‹λ©”μ΄μ… κ°μ²΄ μƒμ„± λ΅μ§ μΊ΅μν™”
- νƒ€μ…λ³„ μ• λ‹λ©”μ΄μ… μƒμ„± κ΄€λ¦¬

## π”§ κΈ°μ μ  κµ¬ν„ μ„Έλ¶€μ‚¬ν•­

### μ„±λ¥ μµμ ν™”
- **DOTween μµμ ν™”**: μ• λ‹λ©”μ΄μ… ν’€λ§μΌλ΅ GC μ••λ°• μµμ†ν™”
- **μ• λ‹λ©”μ΄μ… μ΄λ²¤νΈ**: Update() λ€μ‹  DOTween μ΄λ²¤νΈ μ½λ°± ν™μ©
- **λ©”λ¨λ¦¬ κ΄€λ¦¬**: μ• λ‹λ©”μ΄μ… μ™„λ£ ν›„ μλ™ μ •λ¦¬

### μ¤λ λ“ μ•μ „μ„±
- μ‹±κΈ€ν†¤ ν¨ν„΄μ μ¤λ λ“ μ•μ „μ„± λ³΄μ¥
- μ΄λ²¤νΈ κΈ°λ° λΉ„λ™κΈ° μ²λ¦¬

## π§ κ²€μ¦/ν…μ¤νΈ μ§€μΉ¨

### μ²΄ν¬λ¦¬μ¤νΈ
- [ ] DOTween SafeMode ν™μ„±ν™” ν™•μΈ
- [ ] μ• λ‹λ©”μ΄μ… ν’€λ§ μ„¤μ • ν™•μΈ
- [ ] μΈν„°νμ΄μ¤ κµ¬ν„ μ™„μ „μ„± ν™•μΈ
- [ ] μμ™Έ μ²λ¦¬ λ° null μ²΄ν¬ κµ¬ν„
- [ ] μ„±λ¥ ν”„λ΅νμΌλ§ ν†µκ³Ό

### μ¬ν„ μ μ°¨
1. κ° μ• λ‹λ©”μ΄μ… νƒ€μ…λ³„ ν…μ¤νΈ μΌ€μ΄μ¤ μ‹¤ν–‰
2. λ©”λ¨λ¦¬ λ„μ κ²€μ‚¬
3. ν”„λ μ„λ μ΄νΈ μν–¥λ„ μΈ΅μ •

## π“ λ³€κ²½ κΈ°λ΅(Delta)
- ν•μ‹: `YYYY-MM-DD | μ‘μ„±μ | λ³€κ²½ μ”μ•½ | μν–¥λ„(μ½”λ“/μ”¬/λ¬Έμ„)`

- 2025-01-27 | Maintainer | AnimationSystem κ°λ° λ¬Έμ„ μ΄κΈ° μ‘μ„± | λ¬Έμ„
- 2025-01-27 | Maintainer | μ‹¤μ  ν΄λ” κµ¬μ΅° λ°μ λ° νμΌ μ μ •μ • | λ¬Έμ„
- 2025-01-27 | Maintainer | .mdc κ·μΉ™ νμΌλ΅ λ³€ν™ λ° Cursor κ·μΉ™ μ €μ¥ | λ¬Έμ„
- 2025-01-27 | Maintainer | μ‹¤μ  μ½”λ“ λ¶„μ„ κΈ°λ° κµ¬μ²΄μ  ν•¨μ/λ³€μ/ν΄λμ¤ μ •λ³΄ μ¶”κ°€ | λ¬Έμ„
- 2025-01-27 | Maintainer | μ‚¬μ©ν•μ§€ μ•λ” Default μ• λ‹λ©”μ΄μ… νμΌλ“¤ μ κ±° λ° κ·μΉ™ νμΌ μ—…λ°μ΄νΈ | μ½”λ“/λ¬Έμ„